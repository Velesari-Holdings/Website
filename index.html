<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Inquire - Velesari Holdings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Direct, private contact with Velesari Holdings. We respond within 2-3 business days.">
  <meta name="color-scheme" content="dark light">
  <meta name="referrer" content="no-referrer">
  <meta name="robots" content="index,follow">

  <!-- Clean link previews without extra assets -->
  <meta property="og:title" content="Inquire — Velesari Holdings">
  <meta property="og:description" content="Direct, private contact with Velesari Holdings.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://YOURUSERNAME.github.io/">
  <meta name="twitter:card" content="summary">

  <!-- Tight CSP: allow only inline CSS/JS and Formspree -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'none'; style-src 'unsafe-inline'; img-src 'self' data:; form-action https://formspree.io; connect-src https://formspree.io; script-src 'unsafe-inline'; base-uri 'none'; frame-ancestors 'none'">

  <style>
    :root{
      --bg:#0b0b0b; --fg:#f5f5f5; --muted:#bdbdbd; --card:#141414; --border:#2a2a2a;
      --btn:#0f0f0f; --ring:#00A86B; /* jade accent */
      --ok-bg:#0f1f12; --ok-bd:#214d2b; --ok-fg:#cde7d0;
      --er-bg:#1f1111; --er-bd:#4d2121; --er-fg:#f0caca;
      --link:#d7fbe8;
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#fafafa; --fg:#0a0a0a; --muted:#555; --card:#ffffff; --border:#e6e6e6; --btn:#f4f4f4; --link:#064e3b; }
    }
    html,body{height:100%}
    body{
      margin:0; font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      background:var(--bg); color:var(--fg); display:grid; place-items:center; padding:24px;
    }
    .wrap{width:100%; max-width:560px; background:var(--card); padding:28px; border-radius:16px; border:1px solid var(--border)}
    h1{margin:0 0 8px; font-size:28px}
    p{margin:0 0 16px; color:var(--muted)}
    form{display:grid; gap:12px; margin-top:8px}
    .row{display:flex; gap:12px}
    .row > *{flex:1}
    label{
      position:relative; width:1px; height:1px; clip:rect(1px,1px,1px,1px);
      white-space:nowrap; overflow:hidden;
    }
    input,textarea,button{
      width:100%; padding:12px 14px; border-radius:10px; border:1px solid var(--border); background:var(--btn); color:var(--fg);
    }
    input:focus-visible, textarea:focus-visible, button:focus-visible, a.button:focus-visible{
      outline:2px solid var(--ring); outline-offset:2px;
    }
    textarea{min-height:140px; resize:vertical}
    button{cursor:pointer; transition:box-shadow .15s ease, opacity .15s ease}
    button:hover{box-shadow:0 0 0 2px var(--ring) inset}
    button[disabled]{opacity:.6; cursor:not-allowed; box-shadow:none}
    .divider{height:1px; background:var(--border); margin:16px 0}
    .center{display:flex; gap:12px; justify-content:center; flex-wrap:wrap}
    a.button{display:inline-block; text-decoration:none; padding:12px 14px; border-radius:10px; border:1px solid var(--border); background:var(--btn); color:var(--fg)}
    a{color:var(--link)}
    .note{font-size:13px; color:var(--muted)}
    .ok,.err{padding:12px 14px; border-radius:10px; display:none; margin-top:4px}
    .ok{background:var(--ok-bg); border:1px solid var(--ok-bd); color:var(--ok-fg)}
    .err{background:var(--er-bg); border:1px solid var(--er-bd); color:var(--er-fg)}
    small{font-size:12px; color:var(--muted)}
  </style>
</head>
<body>
  <main class="wrap">
    <h1>Velesari Holdings</h1>
    <p>Direct inquiries to our team. One private channel. We respond within 2-3 business days.</p>

    <!-- Formspree-backed form -->
    <form id="contact" action="https://formspree.io/f/xdkrwqqr" method="POST" novalidate>
      <div class="row">
        <div>
          <label for="name">Your name</label>
          <input id="name" name="name" type="text" placeholder="Your name"
                 autocomplete="name" autocapitalize="words" maxlength="120" required>
        </div>
        <div>
          <label for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="Email"
                 autocomplete="email" inputmode="email" maxlength="254" required>
        </div>
      </div>

      <div>
        <label for="message">Your message</label>
        <textarea id="message" name="message" placeholder="How can we help?"
                  maxlength="5000" required></textarea>
      </div>

      <!-- Formspree QoL fields -->
      <input type="hidden" name="_subject" value="New inquiry via Velesari Holdings">
      <!-- Spam mitigation: honeypot + timestamp + minimal dwell time -->
      <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off">
      <input type="hidden" name="submitted_at" id="submitted_at">
      <input type="hidden" id="dwell_ok" value="0">

      <button type="submit" id="submitBtn">Send</button>

      <div class="ok" id="ok" role="status" aria-live="polite"></div>
      <div class="err" id="err" role="alert" aria-live="assertive"></div>
    </form>

    <div class="divider"></div>

    <!-- Fallback contact options (no third parties beyond email) -->
    <div class="center" aria-label="Alternate contact options">
      <a class="button" id="mailtoBtn" href="mailto:inquiries@velesari.com?subject=Inquiry%20via%20site" rel="noopener noreferrer">Email Velesari</a>
      <a class="button" id="copyMsg" role="button">Copy message</a>
    </div>

    <p class="note" style="margin-top:12px">
      Brief privacy notice: submissions are used to respond to your inquiry and are not shared or sold. We do not run analytics on this page.
    </p>

    <noscript><small>JavaScript improves validation and messages, but the form will still submit. If you prefer, email <a href="mailto:inquiries@velesari.com">inquiries@velesari.com</a>.</small></noscript>
  </main>

  <script>
    // --- setup ---
    const form = document.getElementById('contact');
    const ok = document.getElementById('ok');
    const err = document.getElementById('err');
    const submitBtn = document.getElementById('submitBtn');
    const copyMsgBtn = document.getElementById('copyMsg');
    const dwellOk = document.getElementById('dwell_ok');
    const submittedAt = document.getElementById('submitted_at');

    // Timestamp (basic spam signal)
    submittedAt.value = new Date().toISOString();

    // Minimal dwell heuristic: enable after 3 seconds
    setTimeout(() => { dwellOk.value = "1"; }, 3000);

    // Helpers
    function setStatus(type, message){
      if (type === 'ok'){
        ok.textContent = message;
        ok.style.display = 'block';
        err.style.display = 'none';
      } else {
        err.textContent = message;
        err.style.display = 'block';
        ok.style.display = 'none';
      }
    }

    function disableButton(disabled){
      submitBtn.disabled = disabled;
      submitBtn.textContent = disabled ? 'Sending…' : 'Send';
    }

    function minMessageLengthOK(text){
      return (text || '').trim().length >= 20; // cheap bot/abuse friction
    }

    // Submit handler
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Native checks first
      if (!form.checkValidity()){
        form.reportValidity();
        setStatus('err', 'Please complete all required fields.');
        return;
      }

      // Lightweight client-side safeguards
      if (dwellOk.value !== "1"){
        setStatus('err', 'Please review your message for a moment, then try again.');
        return;
      }
      const msgVal = document.getElementById('message').value;
      if (!minMessageLengthOK(msgVal)){
        setStatus('err', 'Please add a bit more detail so we can assist (≥ 20 characters).');
        return;
      }

      // Prevent double-submits
      disableButton(true);

      const data = new FormData(form);

      try {
        const r = await fetch(form.action, {
          method: 'POST',
          body: data,
          headers: { 'Accept': 'application/json' },
          redirect: 'follow'
        });

        if (r.ok){
          setStatus('ok', 'Thank you, your message was sent. We’ll reply within 2-3 business days.');
          form.reset();
          submittedAt.value = new Date().toISOString();
        } else {
          // Try to read error details for better UX
          let msg = 'We could not send your message right now.';
          try {
            const j = await r.json();
            if (j && j.errors && j.errors.length){
              msg = j.errors.map(e => e.message).join(' ');
            }
          } catch {}
          // Tailored messages by status
          if (r.status === 429) msg = 'Rate limited — please wait a minute and try again.';
          if (r.status >= 500) msg = 'Temporary issue on our side — please try again shortly.';
          setStatus('err', msg + ' You can also use the “Email Velesari” button below.');
        }
      } catch (_) {
        setStatus('err', 'Network error, please check your connection. You can also email us directly via the button below.');
      } finally {
        disableButton(false);
      }
    });

    // Copy message fallback
    copyMsgBtn.addEventListener('click', async () => {
      const name = (document.getElementById('name').value || '').trim();
      const email = (document.getElementById('email').value || '').trim();
      const message = (document.getElementById('message').value || '').trim();
      const lines = [
        'Inquiry to Velesari Holdings',
        '-----------------------------',
        message || '(no message)',
        '',
        `From: ${name || '(no name)'}`,
        `Reply-to: ${email || '(no email provided)'}`
      ].join('\n');
      try {
        await navigator.clipboard.writeText(lines);
        copyMsgBtn.textContent = 'Copied ✓';
        setTimeout(() => copyMsgBtn.textContent = 'Copy message', 1800);
      } catch {
        copyMsgBtn.textContent = 'Copy failed';
        setTimeout(() => copyMsgBtn.textContent = 'Copy message', 1800);
      }
    });
  </script>
</body>
</html>
